<div class="container">
  <header class="jumbotron">
    <div class="profile" *ngIf="isLoggedIn">
      <h3>
        <strong>
          Welcome
          {{ username[0].toUpperCase() + username.slice(1) }} !
        </strong>
      </h3>

      <form name="form" (ngSubmit)="onSubmit()" #f="ngForm">
        <img
          *ngIf="!upload && !img"
          id="profile-img"
          src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
          class="profile-img-card"
        />
        <img
          *ngIf="!upload && img"
          id="profile-img"
          [src]="img"
          class="profile-img-card"
        />
        <img [src]="url" height="200" /> <br />
        <button (click)="edit = !edit">
          <svg
            class="bi bi-pencil"
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"
              clip-rule="evenodd"
            />

            <path
              fill-rule="evenodd"
              d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z"
              clip-rule="evenodd"
            />
          </svg>
        </button>

        <input
          *ngIf="edit"
          type="file"
          name="img"
          (change)="onSelectFile($event)"
        />
        <button *ngIf="upload" class="btn btn-primary btn-block">
          Upload
        </button>
      </form>

      <div>
        <button class="box" (click)="followerToggle = !followerToggle">
          <div>
            {{ followersCount }}
            <br />
            Followers
          </div>
        </button>
        <div *ngIf="followerToggle">
          <div *ngFor="let follower of followers">
            <p>{{ follower.username }}</p>
          </div>
        </div>
      </div>
      <div>
        <button class="box" (click)="followingToggle = !followingToggle">
          <div>
            {{ followingCount }}
            <br />
            Following
          </div>
        </button>
        <div *ngIf="followingToggle">
          <div *ngFor="let f of following">
            <p>{{ f.username }}</p>
          </div>
        </div>
      </div>
    </div>
  </header>
</div>
